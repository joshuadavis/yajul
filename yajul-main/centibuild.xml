<?xml version="1.0"?>
<project default="interactive" basedir="." name="project build file">
	
	
	    <description>
	                       * ===================================== *
	                       |   Krysalis Centipede Build System     |
	                       * ===================================== *
	                                         by
	
	                       Nicola Ken Barozzi (nicolaken@apache.org)
	                       Marc Johnson (mjohnson@apache.org)
	    </description>




    <!-- =================================================================== -->
    <!-- Import Ant-Centipede -init targets - sets up basic build stuff      -->
    <!-- =================================================================== -->
    <!--
          This is the target that initializes tasks and properties used
          commonly in every other target.

          Remember to add depends="-init" to every target, so that this
          target is called before any other.

          This target is internal; to make it unusable from the commandline,
          its name starts with a hyphen.
          To make it invisible when using -projecthelp, it lacks a description.
    -->
    <import file="${ant.home}/src/core/xbuild.xml"/>
    <taskdef file="${ant.home}/src/core/tasks.properties"/>
    <importcent name="java" />
    
    <importcent name="antidote"/> 
    <importcent name="checkstyle"/> 
    <importcent name="forrest"/> 
    <importcent name="gump"/>
    <importcent name="izpress"/>
    <importcent name="javasrc"/> 
    <importcent name="jdepend"/>
    <importcent name="jdiff"/> 
    <importcent name="jtidy"/>  
    <importcent name="junit"/>
    <importcent name="umldoclet"/>  
    <importcent name="xmldoclet"/> 
    
    <!-- =================================================================== -->
    <!-- Basic build targets for the project                                 -->
    <!-- =================================================================== -->

    <!-- =================================================================== -->
    <!-- Interactive build                                                   -->
    <!-- =================================================================== -->
    <target name="interactive" description="Interactive Build">
        <echo>
        --------------------------------------------------------------

                      ${xgump.module.name}  [${YEAR}]

        --------------------------------------------------------------
         Using ${ant.version}
         ANT home: ${ant.home}
         Build file ${ant.file}
        --------------------------------------------------------------
         These are the most common build targets.
         You can also invoke them directly; see build.xml for more info.
         Builds will be in /build directory, distributions in /dist.

         all -------------- creates the jars and the site
         compile ---------- compiles the source code
         test ------------- performs the jUnit tests
         jar -------------- create the jar files
         docs ------------- generates the html docs - clean not needed
         javadocs --------- generates the API documentation
         site ------------- generates the html site (docs+reports)
         clean ------------ cleans the build directory
         dist ------------- creates src and bin distributions
        </echo>
        
          <input
             message="Please select a target "
             addproperty="input.selection"
          />
         <condition property="do.abort">
           <equals arg1="" arg2="input.selection" />
         </condition>
         <fail if="do.abort">Build aborted by user.</fail>

        <antrun target="splash"/>
        <antrun target="${input.selection}"/>

    </target>
    
    <target name="all" depends="clean, code, metrics, docs, dist"/>
    	
    <target name="code" depends="compile,test,package"/>
    <target name="metrics" depends="checkstyle,report,jdepend-xdoc"/>
    <target name="docs" depends="javasrc,javadocs,umljavadocs,xjavadocs,descriptor-docs,forrest.docs"/>

    <!-- ================================== -->
    <!--        Target used by Gump         -->
    <!-- ================================== -->

    <target  name="gump" description="Target used by Gump">
    </target>


</project>


